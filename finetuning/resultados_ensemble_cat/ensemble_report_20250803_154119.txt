
================================================================================
REPORTE DE RESULTADOS - ENSEMBLE DE EMBEDDINGS
================================================================================

üéØ M√©trica optimizada: accuracy_at_5

üìä RENDIMIENTO DE MODELOS INDIVIDUALES
--------------------------------------------------------------------------------
Modelo                    Acc@1      Acc@5      MRR        MAP        NDCG@5    
--------------------------------------------------------------------------------
sapbert-umls              70.8%      83.3%      0.752      0.752      0.772     
pudmedbert-marco          66.7%      87.5%      0.731      0.731      0.766     
paraphrase                58.3%      75.0%      0.653      0.653      0.677     


üìä M√âTODO 1: PROMEDIO PONDERADO DE EMBEDDINGS
--------------------------------------------------------------------------------

üî∏ Con pesos iniciales:
   sapbert-umls: 0.700
   pudmedbert-marco: 0.200
   paraphrase: 0.100

   M√©tricas:
   ‚Ä¢ Accuracy@1: 68.8%
   ‚Ä¢ Accuracy@5: 87.5%
   ‚Ä¢ MRR: 0.758
   ‚Ä¢ MAP: 0.758
   ‚Ä¢ NDCG@5: 0.787

üî∏ Con pesos √≥ptimos:
   sapbert-umls: 0.554
   pudmedbert-marco: 0.209
   paraphrase: 0.237

   M√©tricas:
   ‚Ä¢ Accuracy@1: 68.8% (+0.0 pp)
   ‚Ä¢ Accuracy@5: 93.8% (+6.2 pp)
   ‚Ä¢ MRR: 0.777 (+0.020)
   ‚Ä¢ MAP: 0.777 (+0.020)
   ‚Ä¢ NDCG@5: 0.817 (+0.030)


üìä M√âTODO 2: FUSI√ìN DE RANKINGS (RRF PONDERADO)
--------------------------------------------------------------------------------

üî∏ Con pesos iniciales:
   sapbert-umls: 0.700
   pudmedbert-marco: 0.200
   paraphrase: 0.100

   M√©tricas:
   ‚Ä¢ Accuracy@1: 56.2%
   ‚Ä¢ Accuracy@5: 89.6%
   ‚Ä¢ MRR: 0.695
   ‚Ä¢ MAP: 0.695
   ‚Ä¢ NDCG@5: 0.745

üî∏ Con pesos √≥ptimos:
   sapbert-umls: 0.617
   pudmedbert-marco: 0.233
   paraphrase: 0.150

   M√©tricas:
   ‚Ä¢ Accuracy@1: 54.2% (+-2.1 pp)
   ‚Ä¢ Accuracy@5: 91.7% (+2.1 pp)
   ‚Ä¢ MRR: 0.691 (+-0.003)
   ‚Ä¢ MAP: 0.691 (+-0.003)
   ‚Ä¢ NDCG@5: 0.748 (+0.003)


üìä COMPARACI√ìN DE M√âTODOS (CON PESOS √ìPTIMOS)
--------------------------------------------------------------------------------
M√©todo                    Acc@1      Acc@5      MRR        MAP        NDCG@5    
--------------------------------------------------------------------------------
Promedio Ponderado        68.8%      93.8%      0.777      0.777      0.817     
Fusi√≥n de Rankings        54.2%      91.7%      0.691      0.691      0.748     

üí° Mejora del mejor ensemble sobre mejor modelo individual: -2.1 pp


üî¨ AN√ÅLISIS DE DIVERSIDAD DEL ENSEMBLE
================================================================================

üìä Overlap promedio entre pares de modelos (en top-5):
   ‚Ä¢ sapbert-umls vs pudmedbert-marco: 19.6%
   ‚Ä¢ sapbert-umls vs paraphrase: 16.2%
   ‚Ä¢ pudmedbert-marco vs paraphrase: 17.9%

üìä Agreement promedio en predicciones: 71.2%
   (1.0 = todos predicen lo mismo, 0.0 = todos predicen diferente)

üìä Contribuciones √∫nicas por modelo (veces que solo ese modelo acert√≥):
   ‚Ä¢ sapbert-umls: 34 queries (70.8%)
   ‚Ä¢ pudmedbert-marco: 32 queries (66.7%)
   ‚Ä¢ paraphrase: 28 queries (58.3%)

üìä Queries donde el ensemble acert√≥ pero ning√∫n modelo individual: 0 (0.0%)

üìä Top 5 queries con mayor desacuerdo entre modelos:

   1. Query: Com dono alta a un pacient pal¬∑liatiu amb hospital...
      Agreement score: 0.33
      Predicciones √∫nicas: 3

   2. Query: Quant de temps ha d'estar monitoritzat despr√©s d'u...
      Agreement score: 0.33
      Predicciones √∫nicas: 3

   3. Query: Cercapersones de la llevadora s√®nior de la mater...
      Agreement score: 0.33
      Predicciones √∫nicas: 3

   4. Query: Quins medicaments es nebulitzen en forma de pols s...
      Agreement score: 0.33
      Predicciones √∫nicas: 3

   5. Query: Com s√© que he administrat un f√†rmac intrad√®rmic co...
      Agreement score: 0.33
      Predicciones √∫nicas: 3

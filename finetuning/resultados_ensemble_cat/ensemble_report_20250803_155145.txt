
================================================================================
REPORTE DE RESULTADOS - ENSEMBLE DE EMBEDDINGS
================================================================================

üéØ M√©trica optimizada: accuracy_at_5

üìä RENDIMIENTO DE MODELOS INDIVIDUALES
--------------------------------------------------------------------------------
Modelo                    Acc@1      Acc@5      MRR        MAP        NDCG@5    
--------------------------------------------------------------------------------
sapbert                   70.8%      81.2%      0.748      0.748      0.764     
pudmedbert-marco          66.7%      87.5%      0.731      0.731      0.766     


üìä M√âTODO 1: PROMEDIO PONDERADO DE EMBEDDINGS
--------------------------------------------------------------------------------

üî∏ Con pesos iniciales:
   sapbert: 0.700
   pudmedbert-marco: 0.300

   M√©tricas:
   ‚Ä¢ Accuracy@1: 72.9%
   ‚Ä¢ Accuracy@5: 87.5%
   ‚Ä¢ MRR: 0.776
   ‚Ä¢ MAP: 0.776
   ‚Ä¢ NDCG@5: 0.800

üî∏ Con pesos √≥ptimos:
   sapbert: 0.438
   pudmedbert-marco: 0.562

   M√©tricas:
   ‚Ä¢ Accuracy@1: 77.1% (+4.2 pp)
   ‚Ä¢ Accuracy@5: 91.7% (+4.2 pp)
   ‚Ä¢ MRR: 0.824 (+0.049)
   ‚Ä¢ MAP: 0.824 (+0.049)
   ‚Ä¢ NDCG@5: 0.847 (+0.047)


üìä M√âTODO 2: FUSI√ìN DE RANKINGS (RRF PONDERADO)
--------------------------------------------------------------------------------

üî∏ Con pesos iniciales:
   sapbert: 0.700
   pudmedbert-marco: 0.300

   M√©tricas:
   ‚Ä¢ Accuracy@1: 47.9%
   ‚Ä¢ Accuracy@5: 87.5%
   ‚Ä¢ MRR: 0.647
   ‚Ä¢ MAP: 0.647
   ‚Ä¢ NDCG@5: 0.705

üî∏ Con pesos √≥ptimos:
   sapbert: 0.538
   pudmedbert-marco: 0.462

   M√©tricas:
   ‚Ä¢ Accuracy@1: 52.1% (+4.2 pp)
   ‚Ä¢ Accuracy@5: 91.7% (+4.2 pp)
   ‚Ä¢ MRR: 0.684 (+0.036)
   ‚Ä¢ MAP: 0.684 (+0.036)
   ‚Ä¢ NDCG@5: 0.742 (+0.037)


üìä COMPARACI√ìN DE M√âTODOS (CON PESOS √ìPTIMOS)
--------------------------------------------------------------------------------
M√©todo                    Acc@1      Acc@5      MRR        MAP        NDCG@5    
--------------------------------------------------------------------------------
Promedio Ponderado        77.1%      91.7%      0.824      0.824      0.847     
Fusi√≥n de Rankings        52.1%      91.7%      0.684      0.684      0.742     

üí° Mejora del mejor ensemble sobre mejor modelo individual: +6.2 pp


üî¨ AN√ÅLISIS DE DIVERSIDAD DEL ENSEMBLE
================================================================================

üìä Overlap promedio entre pares de modelos (en top-5):
   ‚Ä¢ sapbert vs pudmedbert-marco: 18.8%

üìä Agreement promedio en predicciones: 82.3%
   (1.0 = todos predicen lo mismo, 0.0 = todos predicen diferente)

üìä Contribuciones √∫nicas por modelo (veces que solo ese modelo acert√≥):
   ‚Ä¢ sapbert: 34 queries (70.8%)
   ‚Ä¢ pudmedbert-marco: 32 queries (66.7%)

üìä Queries donde el ensemble acert√≥ pero ning√∫n modelo individual: 0 (0.0%)

üìä Top 5 queries con mayor desacuerdo entre modelos:

   1. Query: Com dono alta a un pacient pal¬∑liatiu amb hospital...
      Agreement score: 0.50
      Predicciones √∫nicas: 2

   2. Query: Qui ha d'aprovar que es doni una prestaci√≥ fora de...
      Agreement score: 0.50
      Predicciones √∫nicas: 2

   3. Query: Amb qui haig de coordinar la medicaci√≥ a administr...
      Agreement score: 0.50
      Predicciones √∫nicas: 2

   4. Query: Quant de temps ha d'estar monitoritzat despr√©s d'u...
      Agreement score: 0.50
      Predicciones √∫nicas: 2

   5. Query: Cercapersones de la llevadora s√®nior de la mater...
      Agreement score: 0.50
      Predicciones √∫nicas: 2
